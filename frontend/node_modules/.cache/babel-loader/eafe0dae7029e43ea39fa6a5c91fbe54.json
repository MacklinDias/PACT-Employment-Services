{"ast":null,"code":"import _defineProperty from \"/Users/macklindias/Documents/Macklin/FrontEnd/my-reactapp/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/Users/macklindias/Documents/Macklin/FrontEnd/my-reactapp/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/macklindias/Documents/Macklin/FrontEnd/my-reactapp/src/SignInForm.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useContext } from 'react';\nimport AppContext from './AppContext';\nimport { Link } from 'react-router-dom';\n\nconst SignInForm = () => {\n  let email, password;\n\n  const _useState = useState({\n    loginSuccess: null\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        state = _useState2[0],\n        setState = _useState2[1];\n\n  const _useContext = useContext(AppContext),\n        _useContext2 = _slicedToArray(_useContext, 2),\n        globalState = _useContext2[0],\n        setGlobalState = _useContext2[1];\n\n  const loginUser = async () => {\n    let response = await fetch('http://localhost:3000/login', {\n      method: 'POST',\n      body: JSON.stringify({\n        email: email.value,\n        password: password.value\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    let json = await response.json();\n\n    if (json.token) {\n      // Change the local state\n      setState(_objectSpread({}, state, {\n        loginSuccess: true\n      })); // Change the globa state\n\n      setGlobalState(_objectSpread({}, globalState, {\n        loggedIn: 'true'\n      }));\n      sessionStorage.setItem('jwt', json.token);\n    }\n  };\n\n  return React.createElement(\"div\", {\n    className: \"content-wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row  no-gutters\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-lg-6 hidden-md-down\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"bg-stretch img-wrap\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: \"img/detective.png\",\n    alt: \"images\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"col-lg-6 signup-block\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"signup-wrap text-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"inner-wrap\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    action: \"#\",\n    method: \"post\",\n    id: \"contact_form\",\n    className: \"waituk_contact-form signup-form\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    className: \"bottom-space\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, \"Existing User Login\"), React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-md-6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    ref: inputElem => email = inputElem,\n    type: \"text\",\n    placeholder: \"EMAIL\",\n    id: \"con_uname\",\n    name: \"con_fname\",\n    className: \"form-control\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"col-md-6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    ref: inputElem => password = inputElem,\n    type: \"password\",\n    placeholder: \"PASSWORD\",\n    id: \"con_password\",\n    name: \"con_lname\",\n    className: \"form-control\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"col-md-12\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"centeer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, \"*If you do not have an account kindly\", React.createElement(\"strong\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, \"  \", React.createElement(Link, {\n    className: \"black\",\n    to: \"/register\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, \"Register\"), \" \"))))), React.createElement(\"div\", {\n    className: \"btn-container mb-3  mb-xl-3 mt-xl-5 mt-lg-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    onClick: loginUser,\n    id: \"btn_sent\",\n    className: \"btn btn-primary has-radius-small\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, \"Login\")), state.loginSuccess && React.createElement(\"div\", {\n    className: \"alert alert-success\",\n    role: \"alert\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, \"You're now logged in! \", React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }), \"Click on  \", React.createElement(\"strong\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, \"  \", React.createElement(Link, {\n    className: \"black\",\n    to: \"/profile\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, \"Edit Profile\"), \" \"), \" to complete your profile.\")))))));\n};\n\nexport default SignInForm;","map":{"version":3,"sources":["/Users/macklindias/Documents/Macklin/FrontEnd/my-reactapp/src/SignInForm.js"],"names":["React","useState","useContext","AppContext","Link","SignInForm","email","password","loginSuccess","state","setState","globalState","setGlobalState","loginUser","response","fetch","method","body","JSON","stringify","value","headers","json","token","loggedIn","sessionStorage","setItem","inputElem"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from 'react';\nimport AppContext from './AppContext'\nimport { Link } from 'react-router-dom';\n\nconst SignInForm = () => {\n\n    let email, password;\n\n    const [state, setState] = useState(\n        {loginSuccess: null}\n    )\n\n    const [globalState, setGlobalState] = useContext(AppContext);\n\n    const loginUser = async () => {\n        let response = await fetch('http://localhost:3000/login', {\n            method: 'POST',\n            body: JSON.stringify(\n                {\n                    email: email.value,\n                    password: password.value,\n                }\n            ),\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        });\n\n        let json = await response.json();   \n\n        if(json.token) {\n            // Change the local state\n            setState({ ...state, loginSuccess: true});\n\n            // Change the globa state\n            setGlobalState({ ...globalState, loggedIn: 'true'});\n\n            sessionStorage.setItem('jwt', json.token);\n        }\n        \n    }\n\n    return (\n        <div className=\"content-wrapper\">\n        <div className=\"row  no-gutters\">\n            <div className=\"col-lg-6 hidden-md-down\">\n                <div className=\"bg-stretch img-wrap\">\n                    <img src=\"img/detective.png\" alt=\"images\"/>\n                </div>\n            </div>\n            <div className=\"col-lg-6 signup-block\">\n                <div className=\"signup-wrap text-center\">\n                    <div className=\"inner-wrap\">\n                     \n                        <div action=\"#\" method=\"post\" id=\"contact_form\" className=\"waituk_contact-form signup-form\">\n                            <h2 className=\"bottom-space\">Existing User Login</h2>\n                            <div className=\"row\">\n                                <div className=\"col-md-6\">\n                                    <div className=\"form-group\">\n                                        <input ref={(inputElem)=>email = inputElem} type=\"text\" placeholder=\"EMAIL\" id=\"con_uname\" name=\"con_fname\" className=\"form-control\"/>\n                                    </div>\n                                </div>\n                                <div className=\"col-md-6\">\n                                    <div className=\"form-group\">\n                                        <input ref={(inputElem)=>password = inputElem}  type=\"password\" placeholder=\"PASSWORD\" id=\"con_password\" name=\"con_lname\" className=\"form-control\"/>\n                                    </div>\n                                </div>\n                                <div className=\"col-md-12\">\n                                    \n                                \n                                <div className='centeer'>\n                                <p>*If you do not have an account kindly \n                              <strong>  <Link  className=\"black\" to=\"/register\">Register</Link> </strong></p>\n                              </div>\n                                </div>\n                            </div>\n                            <div className=\"btn-container mb-3  mb-xl-3 mt-xl-5 mt-lg-2\">\n                                <button onClick={loginUser} id=\"btn_sent\" className=\"btn btn-primary has-radius-small\">Login</button>\n                            \n                            </div>\n                            {\n                state.loginSuccess &&\n                <div \n                    className=\"alert alert-success\" \n                    role=\"alert\" \n                >\n                    You're now logged in! <br/>\n                    Click on  <strong>  <Link  className=\"black\" to=\"/profile\">Edit Profile</Link> </strong> to complete your profile.\n                </div>\n            }\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    )\n  }\n\n  export default SignInForm;"]},"metadata":{},"sourceType":"module"}